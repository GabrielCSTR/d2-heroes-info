import{d as L,f as g,g as e,F as q,j as z,e as v,t as l,s as w,n as M,m as G,a as X,r as W,o as Y,u as c,w as T,l as B,h as F,x as j,i as Z,y as ee,z as te,A as se,b as oe}from"./index-MPtVcagv.js";import{u as ae,g as ie,s as ne,A as re,a as le}from"./stractzApi-CKhM3Q4o.js";const _e=[{name:"agi",type:"hero_agility"},{name:"str",type:"hero_strength"},{name:"int",type:"hero_intelligence"},{name:"all",type:"hero_universal"}],ce={class:"w-full min-h-0 p-3"},de={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},he={class:"absolute top-0 left-0 bg-red-500 text-white font-bold px-2 py-1 rounded-full"},me={class:"flex bg-[#121212] p-2 w-full shadow-[0px_0px_8px_#000]"},fe=["src"],pe={class:"flex flex-col flex-grow min-h-0 mt-[5px] ml-[8px] mr-[12px] items-start"},ue={class:"text-white font-bold text-[22px] uppercase tracking-[1px]",style:{"font-family":"Reaver, serif"}},xe={class:"w-full bg-black min-h-0 flex flex-col p-[20px] px-[30px] pb-[15px] shadow-[0px_0px_8px_#000]"},ge={class:"w-full min-h-0 flex flex-col space-y-4"},ve={class:"flex flex-col w-full"},we={class:"h-6 text-sm text-[#737373] uppercase tracking-[1px] flex flex-row w-full mb-1"},ye={class:"ml-1 text-white font-semibold tracking-normal normal-case"},be={class:"flex flex-col w-full"},$e={class:"h-6 text-sm text-[#737373] uppercase tracking-[1px] flex flex-row w-full mb-1"},ke={class:"ml-1 text-white font-semibold tracking-normal normal-case"},Ne={class:"relative bg-gray-700 h-2 w-full rounded"},He={class:"flex flex-col w-full"},Re={class:"h-6 text-sm text-[#737373] uppercase tracking-[1px] flex flex-row w-full mb-1"},Ie={class:"ml-1 text-white font-semibold tracking-normal normal-case"},Ce=e("div",{class:"relative bg-gray-700 h-2 w-full rounded"},[e("div",{class:"absolute top-0 left-0 bg-yellow-500 h-2 rounded",style:{width:"60%"}})],-1),Ee=L({__name:"BadVsHeroes",props:{badVsHeroes:{type:Array,required:!0,default:()=>[]}},setup(C){const y=C;return(O,r)=>{var s;return v(),g("div",ce,[e("div",de,[(v(!0),g(q,null,z((s=y.badVsHeroes)==null?void 0:s.slice(0,6),(a,m)=>(v(),g("div",{class:"relative h-full p-2 hover:-translate-y-5 transition-all duration-500",key:a.heroId2},[e("div",he,l(m+1)+"º ",1),e("div",me,[e("img",{class:"w-40 h-24 m-[10px] mr-[15px] shadow-[0px_0px_8px_#000]",src:`https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/heroes/${a.shortName}.png`},null,8,fe),e("div",pe,[e("div",ue,l(a.displayName),1)])]),e("div",xe,[e("div",ge,[e("div",ve,[e("div",we,[w(" Matches: "),e("div",ye,l(a.matchCount),1)])]),e("div",be,[e("div",$e,[w(" WinRate Vs: "),e("div",ke,l((a.winrate*100).toFixed(1))+"%",1)]),e("div",Ne,[e("div",{class:M(["absolute top-0 left-0 h-2 rounded",{"bg-red-500":a.winrate*100<50,"bg-green-500":a.winrate*100>=50}]),style:G({width:Math.min(a.winrate*100,100)+"%"})},null,6)])]),e("div",He,[e("div",Re,[w(" Synergy: "),e("div",Ie,l(a.difference.toFixed(1))+"%",1)]),Ce])])])]))),128))])])}}}),Ve={class:"w-full min-h-0 p-3"},Ae={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Se={class:"absolute top-0 left-0 bg-green-500 text-white font-bold px-2 py-1 rounded-full"},Oe={class:"flex bg-[#121212] p-2 w-full shadow-[0px_0px_8px_#000]"},Pe=["src"],Te={class:"flex flex-col flex-grow min-h-0 mt-[5px] ml-[8px] mr-[12px] items-start"},Be={class:"text-white font-bold text-[22px] uppercase tracking-[1px]",style:{"font-family":"Reaver, serif"}},Fe={class:"w-full bg-black min-h-0 flex flex-col p-[20px] px-[30px] pb-[15px] shadow-[0px_0px_8px_#000]"},Le={class:"w-full min-h-0 flex flex-col space-y-4"},Me={class:"flex flex-col w-full"},De={class:"h-6 text-sm text-[#737373] uppercase tracking-[1px] flex flex-row w-full"},Ue={class:"ml-1 text-white font-semibold tracking-normal normal-case"},We={class:"flex flex-col w-full"},je={class:"h-6 text-sm text-[#737373] uppercase tracking-[1px] flex flex-row w-full mb-1"},qe={class:"ml-1 text-white font-semibold tracking-normal normal-case"},ze={class:"relative bg-gray-700 h-2 w-full rounded"},Ge={class:"flex flex-col w-full"},Je={class:"h-6 text-sm text-[#737373] uppercase tracking-[1px] flex flex-row w-full mb-1"},Ke={class:"ml-1 text-white font-semibold tracking-normal normal-case"},Qe=e("div",{class:"relative bg-gray-700 h-2 w-full rounded"},[e("div",{class:"absolute top-0 left-0 bg-yellow-500 h-2 rounded",style:{width:"60%"}})],-1),Xe=L({__name:"GoodVsHeroes",props:{goodVsHeroes:{type:Array,required:!0,default:()=>[]}},setup(C){const y=C;return(O,r)=>{var s;return v(),g("div",Ve,[e("div",Ae,[(v(!0),g(q,null,z((s=y.goodVsHeroes)==null?void 0:s.slice(0,6),(a,m)=>{var f;return v(),g("div",{class:"relative h-full p-2 hover:-translate-y-5 transition-all duration-500",key:a.heroId2},[e("div",Se,l(m+1)+"º ",1),e("div",Oe,[e("img",{class:"w-40 h-24 m-[10px] mr-[15px] shadow-[0px_0px_8px_#000]",src:`https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/heroes/${a.shortName}.png`},null,8,Pe),e("div",Te,[e("div",Be,l(a.displayName),1)])]),e("div",Fe,[e("div",Le,[e("div",Me,[e("div",De,[w(" Matches: "),e("div",Ue,l(a.matchCount),1)])]),e("div",We,[e("div",je,[w(" WinRate Vs: "),e("div",qe,l((a.winrate*100).toFixed(1))+"%",1)]),e("div",ze,[e("div",{class:M(["absolute top-0 left-0 h-2 rounded",{"bg-red-500":a.winrate*100<50,"bg-green-500":a.winrate*100>=50}]),style:G({width:Math.min(a.winrate*100,100)+"%"})},null,6)])]),e("div",Ge,[e("div",Je,[w(" Synergy: "),e("div",Ke,l((f=a==null?void 0:a.difference)==null?void 0:f.toFixed(1))+"%",1)]),Qe])])])])}),128))])])}}}),Ye={class:"__heroinfo_wrapper"},Ze={class:"__heroinfo_container"},et=e("div",{class:"__heroinfo_line_effect"},null,-1),tt=["poster"],st=["src"],ot=["src"],at=["src"],it=e("div",{class:"__heroinfo_shadown"},[e("div",{class:"__shadown",style:{background:"linear-gradient(rgba(0, 0, 0, 0) 70%, rgba(0, 0, 0, 0.733) 100%, rgb(0, 0, 0) 100%)"}})],-1),nt={class:"_heroinfo_sumary"},rt={class:"__heroinfo_attr_content"},lt=["src"],_t=e("div",{class:"_heroinfo_sumary_attr"},"Força",-1),ct={class:"_heroinfo_sumary_heroname"},dt={class:"__heroinfo_left_info"},ht=["src"],mt={class:"__hero_left_text"},ft={class:"__hero_left_heroid"},pt=e("div",{class:"__hero_left_line"},null,-1),ut={class:"__heroinfo_counters"},xt={class:"__heroinfo_counters_title"},gt=e("div",{class:"__heroinfo_counters_title_text"},"Heroes Counters:",-1),vt={class:"flex flex-row space-x-4"},wt={class:"flex-1 flex flex-col space-y-4"},yt=e("h1",{class:"__heroinfo_counters_title_text"},"COUNTER HEROES:",-1),bt=e("div",{class:"border-l-2 border-gray-600"},null,-1),$t={class:"flex-1 flex flex-col space-y-4"},kt=e("h1",{class:"__heroinfo_counters_title_text"},"MELHOR CONTRA:",-1),Nt={class:"__heroinfo_next_container pt-20",style:{"background-image":'url("https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/backgrounds/grey_painterly.png")'}},Ht={class:"__heroinfo_next"},Rt=["src"],It={class:"__heroinfo_next_hero_details"},Ct=e("div",{class:"__heroinfo_next_hero_details_title"},"Herói anterior",-1),Et={class:"__heroinfo_next_hero_details_heroname"},Vt=e("div",{class:"__heroinfo_next_hero_details_stats"},[e("img",{src:"https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/icons/hero_universal.png",class:"__heroinfo_next_hero_details_stats_img"}),e("div",{class:"__heroinfo_next_hero_details_stats_title"},"Corpo a corpo")],-1),At=e("div",{class:"__heroinfo_next_home_icon"},[e("div",{class:"__heroinfo_next_home_icon_det"}),e("div",{class:"__heroinfo_next_home_icon_det"}),e("div",{class:"__heroinfo_next_home_icon_det"}),e("div",{class:"__heroinfo_next_home_icon_det"}),e("div",{class:"__heroinfo_next_home_icon_det"}),e("div",{class:"__heroinfo_next_home_icon_det"})],-1),St=e("div",{class:"__heroinfo_next_home_title"},"Todos os heróis ",-1),Ot=["src"],Pt={class:"__heroinfo_next_hero_details"},Tt=e("div",{class:"__heroinfo_next_hero_details_title"},"Próximo herói",-1),Bt={class:"__heroinfo_next_hero_details_heroname"},Ft=e("div",{class:"__heroinfo_next_hero_details_stats"},[e("img",{src:"https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/icons/hero_intelligence.png",class:"__heroinfo_next_hero_details_stats_img"}),e("div",{class:"__heroinfo_next_hero_details_stats_title"},"Longo alcance")],-1),Lt=ee('<footer class="__heroinfo_footer"><div class="flex flex-row justify-center items-center m-0 mb-2"><a href="/home"><img class="max-h-[30px]" src="https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/dota_footer_logo.png"></a></div><div class="__heroinfo_footer_text">Dota2 Counters Picks</div></footer>',1),Ut=L({__name:"[id]",setup(C){const y=te(),O=se(),r=ae(),s=X({heroInfo:null,heroRouteInfo:null,badVsHeroes:null,goodVsHeroes:null}),a=i=>{var o;return i?((o=_e.find(_=>_.name===i))==null?void 0:o.type)??"":""},m=W(null),f=W(null),d=r.GET_ALL_HEROES(),J=i=>{const o=d.findIndex(_=>_.shortName===i);o!==-1&&(m.value=o>0?d[o-1]:d[0],f.value=o<d.length-1?d[o+1]:d[d.length-1])},D=async i=>{if(!i)return;const o=d.find(_=>_.shortName===i);if(o){const{id:_,shortName:p,displayName:x,stats:h}=o;await y.push({name:"HeroDetails",params:{id:_,name:p,displayName:x,attr:h==null?void 0:h.primaryAttribute,shortName:p}})}},U=(i,o)=>{if(isNaN(i)||isNaN(o))throw new Error("One entry in the winrate calculation is not a number");return Number((i/o).toPrecision(5))},K=(i,o,_)=>Number(((i-(.5+o-_))*100).toPrecision(4));Y(async()=>{var o,_,p,x,h,b,$,k,N,H,R;if(d.length<=0&&await ie(),s.heroRouteInfo=O.params,!((o=s.heroRouteInfo)!=null&&o.id)){const t=d.find(n=>n.shortName==s.heroRouteInfo.name);t&&(s.heroRouteInfo=t??void 0)}console.log("CURRENT HERO",s.heroRouteInfo),r.SET_CURRENT_HERO(s.heroRouteInfo);try{const t=await ne.post(re,{query:le((_=s.heroRouteInfo)==null?void 0:_.id)});s.heroInfo=(h=(x=(p=t.data)==null?void 0:p.data)==null?void 0:x.heroStats)==null?void 0:h.matchUp[0]}catch(t){console.error("Error:",t)}const i=((b=r.info)==null?void 0:b.name)||(($=r.info)==null?void 0:$.shortName);J(i),console.log("HERO INFO",s.heroInfo),s.goodVsHeroes=(k=s.heroInfo)==null?void 0:k.vs.map(t=>t=Q(t)),(N=s.goodVsHeroes)==null||N.find(t=>{const n=d.find(u=>u.id===t.heroId2);t.displayName=n==null?void 0:n.displayName,t.shortName=n==null?void 0:n.shortName,delete t.winRateHeroId1,delete t.winRateHeroId2}),s.goodVsHeroes=(H=s.goodVsHeroes)==null?void 0:H.slice(0,10),console.log("GOOD VS HEROES",s.goodVsHeroes),s.badVsHeroes=(R=s.heroInfo)==null?void 0:R.vs.sort((t,n)=>{const u=t.synergy,E=n.synergy,V=U(t.winCount,t.matchCount),A=U(n.winCount,n.matchCount),S=u-V,P=E-A;return S-P}),s.badVsHeroes.find(t=>{const n=d.find(u=>u.id===t.heroId2);t.displayName=n==null?void 0:n.displayName,t.shortName=n==null?void 0:n.shortName,t.winrate=Number((t.winCount/t.matchCount).toPrecision(4)),delete t.winCount}),s.badVsHeroes=s.badVsHeroes.sort((t,n)=>t.synergy-n.synergy).slice(0,10),console.log("BAD VS HEROES",s.badVsHeroes)});const Q=(i,o)=>(i.winrate=Number((i.winCount/i.matchCount).toPrecision(4)),i.difference=K(i.winrate,i.winRateHeroId1,i.winRateHeroId2),i);return(i,o)=>{var p,x,h,b,$,k,N,H,R,t,n,u,E,V,A,S;const _=oe("router-link");return v(),g("div",Ye,[e("div",Ze,[et,e("div",{class:M(`__heroinfo_hero_container ${(x=(p=c(r).info)==null?void 0:p.shortName)==null?void 0:x.toLocaleLowerCase()}`)},[e("video",{class:"_hero_video",poster:`https://cdn.akamai.steamstatic.com/apps/dota2/videos/dota_react/heroes/renders/${((h=c(r).info)==null?void 0:h.name)||((b=c(r).info)==null?void 0:b.stats)}.png`,autoplay:"",preload:"auto",loop:"",playsinline:""},[e("source",{type:'video/mp4; codecs="hvc1"',src:`https://cdn.akamai.steamstatic.com/apps/dota2/videos/dota_react/heroes/renders/${(($=c(r).info)==null?void 0:$.name)||((k=c(r).info)==null?void 0:k.stats)}.mov`},null,8,st),e("source",{type:"video/webm",src:`https://cdn.akamai.steamstatic.com/apps/dota2/videos/dota_react/heroes/renders/${((N=c(r).info)==null?void 0:N.name)||((H=c(r).info)==null?void 0:H.stats)}.webm`},null,8,ot),e("img",{src:`https://cdn.akamai.steamstatic.com/apps/dota2/videos/dota_react/heroes/renders/${((R=c(r).info)==null?void 0:R.name)||((t=c(r).info)==null?void 0:t.stats)}.png`},null,8,at)],8,tt)],2),it,e("div",nt,[e("div",rt,[e("img",{src:`https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/icons/${a((n=c(r).info)==null?void 0:n.attr)}.png`,class:"w-8 h-8"},null,8,lt),_t]),e("div",ct,l(c(r).info.displayName),1)]),e("div",dt,[e("img",{src:`https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/icons/${a((u=c(r).info)==null?void 0:u.attr)}.png`,class:"w-6 h-6"},null,8,ht),e("div",mt,l(c(r).info.displayName),1),e("div",ft,l(c(r).info.id),1),pt])]),e("div",ut,[e("div",xt,[gt,e("div",vt,[e("div",wt,[yt,T(F(Ee,{"bad-vs-heroes":s.badVsHeroes},null,8,["bad-vs-heroes"]),[[B,s.badVsHeroes]])]),bt,e("div",$t,[kt,T(F(Xe,{"good-vs-heroes":s.goodVsHeroes},null,8,["good-vs-heroes"]),[[B,s.goodVsHeroes]])])])])]),T(e("div",Nt,[e("div",Ht,[e("div",{onClick:o[0]||(o[0]=j(P=>{var I;return D((I=m.value)==null?void 0:I.shortName)},["prevent"])),class:"__heroInfo_next_hero_start cursor-pointer",style:{"background-image":'url("https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/backgrounds/grey_painterly_wide.png")'}},[e("img",{class:"__heroinfo_next_hero_img_start hover:-translate-y-5 transition-all duration-500",src:`https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/heroes/crops/${(E=m.value)==null?void 0:E.shortName}.png`},null,8,Rt),e("div",It,[Ct,e("div",Et,l(((V=m.value)==null?void 0:V.displayName)??"nada"),1),Vt])]),F(_,{to:"/",class:"__heroinfo_next_home"},{default:Z(()=>[At,St]),_:1}),e("div",{onClick:o[1]||(o[1]=j(P=>{var I;return D((I=f.value)==null?void 0:I.shortName)},["prevent"])),class:"__heroInfo_next_hero_end cursor-pointer",style:{"background-image":'url("https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/backgrounds/grey_painterly_wide.png")'}},[e("img",{class:"__heroinfo_next_hero_img hover:-translate-y-5 transition-all duration-500",src:`https://cdn.akamai.steamstatic.com/apps/dota2/images/dota_react/heroes/crops/${(A=f.value)==null?void 0:A.shortName}.png`},null,8,Ot),e("div",Pt,[Tt,e("div",Bt,l((S=f.value)==null?void 0:S.displayName),1),Ft])])])],512),[[B,f.value]]),Lt])}}});export{Ut as default};
